---
layout: post
title: Quelques commandes SVN utiles
tags:
- jp
- astuce
- shell
- svn
status: publish
type: post
published: true
meta:
  _edit_last: '3'
---
<span style="font-size: 16px; color: #444444; line-height: 24px;">Eh oui, la grande mode est à <a href="http://git-scm.com/" target="_blank">git</a>, mais nous sommes encore nombreux à (être obligés d')utiliser <a href="http://subversion.apache.org/" target="_blank">subversion</a>, au travail par exemple. C'est mon cas. Comme j'ai une toute petite tête et que je préfère utiliser mes outils en ligne de commande, je note régulièrement les petites <em>astuces</em> avec svn. En voici certaines :<!--more--></span>
<h2>Checkout à une date donnée</h2>
<pre>svn checkout --revision {2002-02-17} url</pre>
<h2>Merge d'un commit depuis une branche</h2>
Pourn réaliser cela, il faut disposer :
<ul>
	<li> du ou des numéros de commit (avec <em>svn log</em>)</li>
	<li> de l'url de la branche d'origine où le commit a été réalisé (<em>svn info</em>)</li>
	<li>... de patience car les merge sont souvent un parcours semé d’embûches sous svn</li>
</ul>
Par exemple, pour merger le commit 1000.
<pre>cd ~/destination/du/merge
svn merge -r999:1000 http://url/de/la/branche/ .</pre>
Pour un seul commit, on peut préférer l'option -c (comme <em>change</em>) :
<pre>svn merge -c1000 http://url/de/la/branche/ .</pre>
Pour plusieurs commit, c'est presque pareil. Ainsi, pour le merge du commit 1000 à 1010 :
<pre>svn merge -r999:1010 http://url/de/la/branche/ .</pre>
<h2>Revert d'un commit</h2>
C'est un merge inversé. Pour cela, il faut disposer du numéro de commit (<em>svn log</em>).

Par exemple, pour faire un revert du commit numéro 12 :
<pre> svn merge -r12:11 .</pre>
SVN nous informe qu'il s'agit d'une fusion inverse :
<pre>--- Fusion inverse de r12 dans '.' :
M   chemin/fichier/modifie/fichier.txt</pre>
Il ne vous reste plus qu'à vérifier ce qui change (<em>svn status</em>) et de le commiter.
<h2>Find en évitant les .svn</h2>
<pre>find . -name "pattern" -not -path "*svn" -exec maCommande {} \;</pre>
Sinon, il y a <a href="http://betterthangrep.com/" target="_blank">ack</a> qui est bien meilleur de grep. Il évite tout seul les .svn et autres fichiers embêtants.

<span style="font-family: Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif; font-size: 13px; line-height: 19px;"> </span>

<hr />

Et vous, quelles sont vos astuces svn ?
