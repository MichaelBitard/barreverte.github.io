---
layout: post
title: 'Tester les log : assertions'
tags:
- agilité
- java
- junit
- log
- log4j
- tests
status: draft
type: post
published: false
meta:
  _edit_last: '3'
---
Parce qu'ils peuvent sauver la vie quand un soucis survient en production, nous testons les log avec des assertions comme :
<pre>  assertLogInfo().contient("un log en info");</pre>
Un test complet serait :
<pre lang="java">public class LogTest {

  public @Rule LoggueurEspionRule loggueur = new LoggueurEspionRule();

  @Test public void logInfo() {
    ...
    LoggueurEspion.assertLogInfo().contient("un log en info");
</pre>
La règle junit (@Rule) espionne les logs avec la classe LoggueurEspion dont la méthode assertLogInfo() est utilisée pour vérifier la présence d'un log au niveau info.
